from pathlib import Path

class Config:
    """تنظیمات برنامه"""
    
    # تنظیمات Git
    DEFAULT_BASE_BRANCH = 'main'
    FEATURE_BRANCH_PREFIX = 'ai-feature'
    
    # فایل‌هایی که باید نادیده گرفته شوند
    IGNORE_PATTERNS = [
        '.git',
        '__pycache__',
        '*.pyc',
        '.env',
        'node_modules',
        '.vscode',
        '.idea',
        '*.log',
        '.DS_Store',
        'venv',
        'env',
        '*.exe',
        '*.dll',
        '*.so',
        '.pytest_cache',
        'dist',
        'build',
        '*.egg-info'
        'assets'
        'backups'
    ]
    
    # حداکثر اندازه فایل (در بایت)
    MAX_FILE_SIZE = 1024 * 1024  # 1MB
    
    # تنظیمات تقسیم‌بندی
    DEFAULT_MAX_CHARS_PER_PART = 15000  # 15K کاراکتر (برای اکثر AI‌ها مناسب)
    MIN_CHARS_PER_PART = 5000
    MAX_CHARS_PER_PART = 100000
    
    # فرمت خروجی
    OUTPUT_FORMAT = "json"
    
    # پیام‌های راهنما
    SYSTEM_PROMPT = """شما یک دستیار برنامه‌نویسی متخصص هستید. من یک پروژه نرم‌افزاری را به شما می‌دهم.

**فرمت پروژه:**
پروژه به صورت JSON است با این ساختار:
{
  "project_name": "نام پروژه",
  "files": [
    {"path": "مسیر فایل", "content": "محتوای فایل"}
  ]
}

**اگر پروژه در چند بخش ارسال شد:**
- هر بخش با ---START PART X/Y--- شروع می‌شود
- با ---END PART X/Y--- تمام می‌شود
- منتظر تمام بخش‌ها باشید
- پس از دریافت هر بخش فقط بگویید: "بخش X دریافت شد"
- پس از دریافت آخرین بخش بگویید: "تمام بخش‌ها دریافت شد. آماده دریافت درخواست"

**دو حالت پاسخ:**

**حالت 1: تغییرات کامل (تمام فایل‌ها)**
- کل پروژه را با تغییرات برگردانید
- همان فرمت JSON

**حالت 2: فقط تغییرات (توصیه می‌شود)**
- فقط فایل‌های تغییر یافته را برگردانید:
{
  "project_name": "نام پروژه",
  "changes_only": true,
  "files": [
    {"path": "فایل تغییر یافته", "content": "محتوای جدید", "action": "modified"},
    {"path": "فایل جدید", "content": "محتوا", "action": "added"},
    {"path": "فایل حذفی", "action": "deleted"}
  ]
}

**مهم:**
- فقط JSON خروجی بدهید
- بدون توضیحات اضافه در داخل JSON
- در صورت نیاز به توضیح، قبل از JSON بنویسید
- اگر خروجی بزرگ شد، آن را به بخش‌های 10000 کاراکتری تقسیم کنید

آماده هستید؟"""
    
    SYSTEM_PROMPT_MULTI_PART = """توجه: این پروژه در {total_parts} بخش ارسال می‌شود.

لطفاً پس از دریافت هر بخش فقط بگویید: "بخش X دریافت شد"
پس از دریافت بخش آخر، بگویید: "تمام بخش‌ها دریافت شد. آماده‌ام."

سپس درخواست‌های من را پردازش کنید و پاسخ دهید."""